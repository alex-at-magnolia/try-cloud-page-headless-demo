(this["webpackJsonpreact-minimal"]=this["webpackJsonpreact-minimal"]||[]).push([[0],{28:function(e,t,a){e.exports=a(41)},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),c=a.n(i),l=a(16),o=a(1),s=a(8),m=a.n(s),u=a(11),p=a(12),d=a(13),E=a(18),v=a(17),f=a(3),g=function(e){var t=e.main,a=e.extras,n=e.title;return r.a.createElement("div",{className:"Basic"},r.a.createElement("div",{className:"hint"},"[Basic Page]"),r.a.createElement("h1",null,n||e.metadata["@name"]),r.a.createElement("main",null,r.a.createElement("div",{className:"hint"},"[Main Area]"),t&&r.a.createElement(f.EditableArea,{className:"Area",content:t})),r.a.createElement("div",{className:"Extras"},r.a.createElement("div",{className:"hint"},"[Sercondary Area]"),a&&r.a.createElement(f.EditableArea,{className:"Area",content:a})))},h=function(e){var t=e.main,a=e.title;return r.a.createElement("div",{className:"Contact"},r.a.createElement("h2",{className:"hint"},"[Contact Page]"),r.a.createElement("div",{className:"box",style:{background:"#eaf7f5",padding:"20px"}},r.a.createElement("h1",null,a||"Nulla vitae elit libero, a pharetra augue.")),t&&r.a.createElement(f.EditableArea,{content:t}))},P=function(e){return r.a.createElement("h2",{className:"Headline"},e.text)},A=function(e){return r.a.createElement("img",{className:"Image",src:""+e.image["@link"],alt:"Etiam Purus"})},_=function(e){return r.a.createElement("p",{className:"Paragraph",dangerouslySetInnerHTML:{__html:e.richText}})},N=a(14),w={componentMappings:{"react-minimal-lm:pages/basic":g,"react-minimal-lm:pages/contact":h,"spa-lm:components/headline":P,"spa-lm:components/image":A,"spa-lm:components/paragraph":_,"spa-lm:components/expander":function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n.state={isCollapsed:!0},n.toggle=n.toggle.bind(Object(N.a)(n)),n}return Object(d.a)(a,[{key:"toggle",value:function(e){this.setState({isCollapsed:!this.state.isCollapsed}),e.preventDefault()}},{key:"componentDidUpdate",value:function(){f.EditorContextHelper.refresh()}},{key:"render",value:function(){var e=this.props.expanderItems;return r.a.createElement("div",{className:"expander"},r.a.createElement("div",{onClick:this.toggle,className:this.state.isCollapsed?"open expanderHeader":"closed expanderHeader"},"Expander",r.a.createElement("svg",{className:"expanderIcon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},r.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))),!this.state.isCollapsed&&r.a.createElement("div",null,r.a.createElement("div",{className:"hint"},"[EXPANDER OPENED]"),e&&r.a.createElement(f.EditableArea,{content:e,parentTemplateId:this.props.metadata["mgnl:template"]})))}}]),a}(r.a.Component),"spa-lm:components/list":function(e){var t=e.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hint"},"[LIST]"),r.a.createElement("ul",{className:"List"},t&&r.a.createElement(f.EditableArea,{content:t,parentTemplateId:e.metadata["mgnl:template"]})))},"spa-lm:components/listItem":function(e){return r.a.createElement("li",{className:"Item"},e.text)}}};function b(){return""+(Boolean("true")?"":Object({NODE_ENV:"production",PUBLIC_URL:"/magnoliaAuthor/.resources/react-minimal-lm/webresources/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MGNL_API_NAV:"/.rest//delivery/pagenav/v1",REACT_APP_MGNL_API_PAGES:"/.rest//delivery/pages/v1",REACT_APP_MGNL_API_PAGES_PREVIEW:"/.rest//preview/pages/v1",REACT_APP_MGNL_API_TEMPLATES:"/.rest//template-definitions/v1",REACT_APP_MGNL_APP_BASE:"/react-minimal",REACT_APP_MGNL_BASE_AUTHOR:"",REACT_APP_MGNL_DAM_RAW:"",REACT_APP_MGNL_HOST:"",REACT_APP_MGNL_IS_PREVIEW:"true",REACT_APP_MGNL_LANGUAGES:"en de",REACT_APP_REST_BASE:"/.rest/"}).REACT_APP_MGNL_BASE_PUBLIC)}function x(){return"en de".split(" ")}function C(e,t){return e.replace(new RegExp("/"+t+"($|/)"),"/")}function T(){for(var e=x(),t=0;t<e.length;t++){var a=e[t];if(new RegExp("/"+a+"($|/)").test(window.location.pathname))return a}return e[0]}function O(){var e=x(),t=window.location.pathname;if(t.indexOf("/react-minimal")>-1)return t.replace(new RegExp("/react-minimal.*"),"")+"/react-minimal";var a=T();return e[0]===a?"/":"/"+a}function R(e){return new URLSearchParams(e).get("mgnlVersion")}var S=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.getPagePath=function(){var e=x(),t=T(),a="/react-minimal"+window.location.pathname.replace(new RegExp("(.*/react-minimal|.html)","g"),"");return t!==e[0]&&(a=C(a,t),a+="?lang="+t),a},e.loadPage=function(){var t=Object(u.a)(m.a.mark((function t(a){var n,r,i,c,l,o,s,u,p;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a||e.state.pathname!==window.location.pathname){t.next=2;break}return t.abrupt("return");case 2:return n=b(),r=e.getPagePath(),console.log("pagePath:"+r),i=R(window.location.href),c="".concat(n).concat(i?"/.rest//preview/pages/v1":"/.rest//delivery/pages/v1").concat(r).concat(i?"?version=".concat(i):""),t.next=9,fetch(c);case 9:return l=t.sent,t.next=12,l.json();case 12:if(o=t.sent,console.log("page content: ",o),s=o["mgnl:template"],console.log("templateId:",s),u=null,!f.EditorContextHelper.inEditor()){t.next=25;break}return t.next=20,fetch(n+"/.rest//template-definitions/v1/"+s);case 20:return p=t.sent,t.next=23,p.json();case 23:u=t.sent,console.log("definition:",u);case 25:e.setState({init:!0,content:o,templateDefinitions:u,pathname:window.location.pathname});case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"inEditorPreview",value:function(){var e=window.location.href.indexOf("mgnlPreview=true")>0;return console.log("inEditorPreview:"+e),f.EditorContextHelper.inEditor()&&e}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",(function(t){try{if("string"!==typeof t.data)return;"refresh"===JSON.parse(t.data).action&&e.loadPage(!0)}catch(a){console.error("Failed to parse "+t.data)}})),this.loadPage(!1)}},{key:"componentDidUpdate",value:function(){this.loadPage()}},{key:"render",value:function(){return this.state.init?(console.log("config:",w),r.a.createElement(f.EditablePage,{templateDefinitions:this.state.templateDefinitions||{},content:this.state.content,config:w})):r.a.createElement("p",null,"NO PAGE.")}}]),a}(r.a.Component),y=a(26),L=a(27);function I(){var e=T();return r.a.createElement("div",{className:"languages"},x().map((function(t){return r.a.createElement("span",{key:"lang-".concat(t),"data-active":e===t,onClick:function(){return function(e){var t=x(),a=window.location.pathname;a=C(a,T()),t[0]!==e&&(a=a.indexOf("/react-minimal")>-1?a.replace(new RegExp("/react-minimal"),"/"+e+"/react-minimal"):"/"+e+a),window.location.href=window.location.origin+a+window.location.search}(t)}},t)})))}var k=function(){var e=r.a.useState([]),t=Object(L.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var t,a,r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b(),a=t+"/.rest//delivery/pagenav/v1/react-minimal",e.next=4,fetch(a);case 4:return r=e.sent,e.next=7,r.json();case 7:i=e.sent,c=i["@nodes"].map((function(e){return i[e]})),n([i].concat(Object(y.a)(c)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.length<1&&function(){e.apply(this,arguments)}()}),[a]),a?r.a.createElement("nav",{className:"Navigation"},a.map((function(e){return r.a.createElement(l.b,{activeClassName:"active",key:e["@id"],to:e["@path"].replace("/react-minimal","")},e.navigationTitle||e.title||e["@name"])})),I()):r.a.createElement("div",null)};a(40);var M=function(e){return r.a.createElement(l.a,{basename:O()},r.a.createElement("header",null,r.a.createElement(k,null)),r.a.createElement("div",{className:"container"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:S}))),r.a.createElement("footer",null,"Integer posuere erat a ante venenatis dapibus posuere velit aliquet.",r.a.createElement("br",null),"Copyright \xa9 2020"))};c.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.9bc0831f.chunk.js.map